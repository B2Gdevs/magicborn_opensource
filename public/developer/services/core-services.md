# Core Services

## CombatStatsService

Derives combat stats from runes, affinity, and growth.

**Location**: `lib/packages/combat/CombatStatsService.ts`

## EncounterService

Resolves spell hits with affinity-based resistance.

**Location**: `lib/packages/combat/EncounterService.ts`

## AffinityService

Tracks elemental XP and computes affinity (0-1).

**Location**: `lib/packages/player/AffinityService.ts`

## RuneFamiliarityService

Tracks rune usage and familiarity scores.

**Location**: `lib/packages/player/RuneFamiliarityService.ts`

## EvolutionService

Matches spells to blueprints and handles evolution.

**Location**: `lib/packages/evolution/evolutionService.ts`

## SpellRuntime

Clean API facade for game/UI integration.

**Location**: `lib/packages/runtime/spellRuntime.ts`

